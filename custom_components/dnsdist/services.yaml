# ============================================================
# PowerDNS dnsdist â€” Service Definitions
# ============================================================

clear_cache:
  name: Clear Cache
  description: Clears the dnsdist cache on the selected host(s).
  fields:
    host:
      name: Host name
      description: |
        Optional: The configured dnsdist host to act on.
        If omitted, all configured dnsdist hosts will be targeted.
      example: dnsdist1
      required: false
      selector:
        text:

enable_server:
  name: Enable Backend Server
  description: Enables a backend server in dnsdist.
  fields:
    host:
      name: Host name
      required: true
      example: dnsdist1
      selector:
        text:
    backend:
      name: Backend address
      required: true
      example: 10.0.0.5:53
      selector:
        text:

disable_server:
  name: Disable Backend Server
  description: Disables a backend server in dnsdist.
  fields:
    host:
      name: Host name
      required: true
      example: dnsdist1
      selector:
        text:
    backend:
      name: Backend address
      required: true
      example: 10.0.0.5:53
      selector:
        text:

reload_config:
  name: Reload dnsdist Configuration
  description: Reloads the configuration of dnsdist on the selected host(s).
  fields:
    host:
      name: Host name
      required: false
      example: dnsdist1
      selector:
        text:

get_backends:
  name: Get Backends
  description: Retrieves the list of backend servers (and their state) from the specified dnsdist host.
  fields:
    host:
      name: Host name
      description: |
        Optional: The dnsdist host entry name.
        If omitted, all configured hosts will be queried.
      required: false
      example: dnsdist1
      selector:
        text:

runtime_command:
  name: Run Runtime Command
  description: Executes a raw dnsdist console command via its REST API.
  fields:
    host:
      name: Host name
      required: true
      example: dnsdist1
      selector:
        text:
    command:
      name: Console command
      required: true
      example: showServers()
      selector:
        text:
